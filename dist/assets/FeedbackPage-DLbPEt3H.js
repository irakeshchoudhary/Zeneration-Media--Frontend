import{r as t,j as e,A as z,m as s,B as o,T as C}from"./index-8HPgMZ-P.js";import{P as F,L as E}from"./PartyEffect-M5zSVPFe.js";import{X as M}from"./x-CkfVtHg5.js";import{A as R}from"./arrow-right-FV7cMcLp.js";const P="/assets/Feedbackpage-CFQmw6CF.jpg",I=({isOpen:r,onClose:c})=>{const[d,m]=t.useState(1),[x,h]=t.useState(""),[p,g]=t.useState(null),[b,f]=t.useState(""),[l,n]=t.useState(!1),[y,j]=t.useState(""),[w,v]=t.useState(!1),N=[{id:1,name:"Bad",src:"/Photos/Emojis/Sad.png"},{id:2,name:"Okay",src:"/Photos/Emojis/NormalSad.png"},{id:3,name:"Good",src:"/Photos/Emojis/Neutral.png"},{id:4,name:"Great",src:"/Photos/Emojis/NormalSmile.png"},{id:5,name:"Excellent",src:"/Photos/Emojis/FullSmile.png"}],i=a=>{h(a),m(2)},u=async()=>{j(""),n(!0);try{const a=localStorage.getItem("userEmail")||"unknown";await C({category:x,emojiRating:p,feedbackText:b,userEmail:a}),v(!0),n(!1),setTimeout(()=>{v(!1),c(),m(1),h(""),g(null),f("")},3e3)}catch(a){j(a.message||"Failed to submit feedback."),n(!1)}},k={hidden:{opacity:0,scale:.8,y:50},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.2,ease:"easeIn"}}},S={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.2}}};return r?e.jsx(z,{children:r&&e.jsxs(s.div,{className:"fixed inset-0 z-[99] flex items-center justify-center p-4",initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx(s.div,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm",variants:S,onClick:c}),e.jsxs(s.div,{className:"relative bg-zinc-950 rounded-xl shadow-2xl p-6 sm:p-8 w-full max-w-sm z-[100] font-['F3']",variants:k,children:[e.jsx(o,{onClick:c,className:"absolute top-3 right-3 p-2 rounded-full bg-zinc-800 hover:bg-zinc-700 text-white",size:"icon",children:e.jsx(M,{className:"h-4 w-4"})}),w?e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col items-center justify-center text-center",children:[e.jsx(F,{}),e.jsx("div",{className:"text-2xl font-bold text-white mt-4",children:"Thank you!"}),e.jsx("p",{className:"text-sm text-zinc-300 mt-2",children:"Your feedback helps us grow."}),e.jsx(o,{onClick:c,className:"mt-6 bg-blue-600 hover:bg-blue-700",children:"Close"})]}):e.jsxs(e.Fragment,{children:[d===1&&e.jsxs(s.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.2},children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-2 text-center",children:"Share Your Feedback"}),e.jsx("p",{className:"text-sm text-zinc-400 mb-6 text-center",children:"What would you like to give feedback on?"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(o,{onClick:()=>i("Website"),className:"bg-zinc-900 cursor-pointer hover:bg-zinc-800 text-white",children:"Website"}),e.jsx(o,{onClick:()=>i("Services"),className:"bg-zinc-900 cursor-pointer hover:bg-zinc-800 text-white",children:"Services"}),e.jsx(o,{onClick:()=>i("Social Media"),className:"bg-zinc-900 cursor-pointer hover:bg-zinc-800 text-white",children:"Social Media"}),e.jsx(o,{onClick:()=>i("Others"),className:"bg-zinc-900 cursor-pointer hover:bg-zinc-800 text-white",children:"Others"})]})]},"step1"),d===2&&e.jsxs(s.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.2},children:[e.jsx("h2",{className:"text-xl font-['F3'] text-white mb-2 text-center",children:"Rate Your Experience"}),e.jsxs("p",{className:"text-sm text-zinc-400 mb-6 text-center",children:["Category: ",e.jsx("span",{className:"font-semibold text-blue-500",children:x})]}),e.jsx("div",{className:"flex justify-around items-center mb-6",children:N.map(a=>e.jsx(s.img,{src:a.src,alt:a.name,className:`w-16 h-16 object-contain cursor-pointer transition-all duration-200
                                                                ${p===a.id?"scale-90 ring-2 ring-blue-500 rounded-full":""}
                                                                hover:scale-100 hover:shadow-lg`,onClick:()=>g(a.id)},a.id))}),e.jsx("textarea",{className:"w-full p-3 rounded-md bg-zinc-800 text-white text-sm focus:outline-none focus:ring-1 focus:ring-blue-500 resize-y min-h-[80px] mb-4",placeholder:"Share your thoughts (optional)",value:b,onChange:a=>f(a.target.value)}),y&&e.jsx("p",{className:"text-red-500 text-xs mb-2 text-center",children:y}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx(o,{onClick:()=>m(1),className:"bg-zinc-800 hover:bg-zinc-900 text-white cursor-pointer",children:"Back"}),e.jsx(o,{onClick:u,disabled:l||!p,className:"cursor-pointer",children:l?e.jsx(E,{className:"animate-spin mr-2",size:16}):"Submit"})]})]},"step2")]})]})]})}):null},W=()=>{const[r,c]=t.useState({x:0,y:0}),[d,m]=t.useState(!1),[x,h]=t.useState(!1),[p,g]=t.useState(!1),b=t.useRef(null),f=t.useRef(null),l=t.useRef(null),n=150;t.useEffect(()=>{if(l.current){const i=l.current.getBoundingClientRect();c({x:i.width/2,y:i.height/2})}},[]);const y=i=>{if(l.current){const u=l.current.getBoundingClientRect(),k=i.clientX-u.left,S=i.clientY-u.top;c({x:k,y:S})}},j=()=>{m(!0),setTimeout(()=>h(!0),100)},w=()=>{m(!1),h(!1)},v=()=>{g(!0)},N=()=>{g(!1)};return e.jsxs("div",{ref:f,className:"flex justify-center items-center min-h-screen p-4 sm:p-6 md:p-8 lg:p-10 box-border mx-auto w-full sm:w-[90%] md:w-[80%] lg:w-[70%] xl:w-[65%] relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col font-['F3'] md:flex-row items-center justify-around w-full max-w-6xl z-[50]",children:[e.jsxs(s.div,{className:"flex-1 p-4 sm:p-5 text-left md:text-left",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.7},children:[e.jsx(s.h1,{className:"text-3xl sm:text-4xl md:text-5xl mb-4 sm:mb-5",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Your Voice Matters to Us"}),e.jsx(s.p,{className:"text-xs sm:text-sm md:text-base leading-normal sm:leading-relaxed mb-6 sm:mb-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"We're constantly working to deliver the best results for your business. Share your honest feedbackâ€”whether it's appreciation, suggestions, or improvements. Your words help us grow, improve, and serve you better."}),e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:e.jsxs(o,{className:"cursor-pointer bg-blue-500 hover:bg-blue-600 text-white flex items-center",onClick:v,children:["Get Started",e.jsx(R,{className:"ml-2 group-hover:translate-x-1 transition-transform"})]})})]}),e.jsx(s.div,{className:"flex-1 flex justify-center items-center p-4 sm:p-5 relative",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,delay:.3},children:e.jsxs("div",{ref:l,className:"relative rounded-lg cursor-none overflow-hidden w-full sm:max-w-sm md:max-w-md h-64 sm:h-80 md:h-[400px]",onMouseMove:y,onMouseEnter:j,onMouseLeave:w,children:[e.jsx("img",{ref:b,src:P,alt:"Feedback",className:"w-full h-full object-cover rounded-lg"}),e.jsx("div",{className:"absolute inset-0 bg-gray-900 rounded-lg transition-opacity duration-500",style:{opacity:d?.85:0,maskImage:x?`radial-gradient(circle ${n}px at ${r.x}px ${r.y}px, transparent 0%, black 100%)`:"none",WebkitMaskImage:x?`radial-gradient(circle ${n}px at ${r.x}px ${r.y}px, transparent 0%, black 100%)`:"none",transition:"opacity 0.5s ease, mask-image 0.1s linear, -webkit-mask-image 0.1s linear"}}),x&&e.jsx(s.div,{className:"absolute rounded-full pointer-events-none",style:{width:n*2,height:n*2,left:r.x-n,top:r.y-n,background:"radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%)",boxShadow:"0 0 80px 40px rgba(96, 165, 250, 0.3)"},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:100,damping:10}}),d&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(15)].map((i,u)=>e.jsx(s.div,{className:"absolute w-1 h-1 bg-blue-400 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-20,0],opacity:[.3,1,.3]},transition:{duration:2+Math.random()*3,repeat:1/0,ease:"easeInOut",delay:Math.random()*2}},u))}),e.jsx(s.div,{className:"absolute bottom-4 left-0 right-0 text-center text-white/80 text-sm",initial:{opacity:0},animate:{opacity:d?1:0},transition:{duration:.3},children:"Move cursor to explore"})]})})]}),e.jsx(I,{isOpen:p,onClose:N})]})};export{W as default};
